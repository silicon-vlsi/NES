v {xschem version=3.4.8RC file_version=1.2}
G {}
K {}
V {}
S {}
E {}
N 1360 -1410 1840 -1410 {lab=VDD}
N 1640 -1210 1640 -1000 {lab=#net1}
N 1500 -1100 1560 -1100 {lab=#net2}
N 1560 -1130 1560 -1100 {lab=#net2}
N 1580 -1000 1730 -1000 {lab=#net1}
N 1580 -940 1580 -890 {lab=#net3}
N 1730 -940 1730 -890 {lab=#net4}
N 1580 -830 1580 -810 {lab=#net5}
N 1580 -750 1730 -750 {lab=GND}
N 1730 -830 1730 -810 {lab=#net6}
N 1770 -970 1800 -970 {lab=ra1}
N 1540 -1130 1820 -1130 {lab=#net2}
N 1840 -1410 1860 -1410 {lab=VDD}
N 1860 -1100 1860 -890 {lab=#net7}
N 1770 -860 1820 -860 {lab=#net4}
N 1790 -920 1790 -860 {lab=#net4}
N 1730 -920 1790 -920 {lab=#net4}
N 1730 -750 1860 -750 {lab=GND}
N 1860 -830 1860 -810 {lab=#net8}
N 1500 -1100 1500 -890 {lab=#net2}
N 1490 -890 1500 -890 {lab=#net2}
N 1530 -860 1540 -860 {lab=#net3}
N 1490 -830 1490 -810 {lab=#net9}
N 1490 -750 1580 -750 {lab=GND}
N 1530 -910 1530 -860 {lab=#net3}
N 1530 -910 1580 -910 {lab=#net3}
N 1640 -1470 1640 -1410 {lab=VDD}
N 1640 -750 1640 -710 {lab=GND}
N 1950 -970 1950 -920 {lab=GND}
N 1500 -1410 1500 -1380 {lab=VDD}
N 1640 -1410 1640 -1380 {lab=VDD}
N 1860 -1410 1860 -1380 {lab=VDD}
N 1500 -1320 1500 -1160 {lab=#net10}
N 1640 -1320 1640 -1270 {lab=#net11}
N 1860 -1320 1860 -1160 {lab=#net12}
N 1040 -1250 1040 -1190 {lab=#net13}
N 1040 -1190 1040 -1120 {lab=#net13}
N 1080 -1020 1100 -1020 {lab=#net13}
N 1040 -840 1040 -820 {lab=GND}
N 1040 -990 1040 -900 {lab=#net14}
N 1040 -1120 1040 -1050 {lab=#net13}
N 1100 -1080 1100 -1020 {lab=#net13}
N 1040 -1080 1100 -1080 {lab=#net13}
N 1040 -820 1040 -790 {lab=GND}
N 1080 -920 1080 -870 {lab=#net14}
N 1040 -920 1080 -920 {lab=#net14}
N 1040 -790 1040 -750 {lab=GND}
N 1040 -1320 1040 -1310 {lab=#net15}
N 1080 -1350 1080 -1280 {lab=#net7}
N 1040 -1400 1040 -1380 {lab=VDD}
N 1040 -1410 1040 -1400 {lab=VDD}
N 1040 -1190 1100 -1190 {lab=#net13}
N 1260 -800 1260 -750 {lab=GND}
N 1220 -830 1220 -780 {lab=GND}
N 1220 -780 1260 -780 {lab=GND}
N 1040 -1410 1360 -1410 {lab=VDD}
N 1080 -1310 1280 -1310 {lab=#net7}
N 1280 -1310 2070 -1310 {lab=#net7}
N 1140 -1310 1140 -1220 {lab=#net7}
N 1140 -1160 1140 -750 {lab=GND}
N 2830 -1040 2830 -870 {lab=GND}
N 2760 -960 2830 -960 {lab=GND}
N 2670 -870 2670 -850 {lab=QP2}
N 2110 -1280 2110 -1080 {lab=ra1}
N 2110 -1000 2110 -880 {lab=QP2}
N 2110 -820 2110 -730 {lab=GND}
N 2070 -850 2070 -750 {lab=GND}
N 2070 -750 2110 -750 {lab=GND}
N 1980 -1310 1980 -1050 {lab=#net7}
N 1860 -1410 2110 -1410 {lab=VDD}
N 1260 -1210 1260 -860 {lab=#net16}
N 1300 -1240 1600 -1240 {lab=#net7}
N 1450 -1310 1450 -1240 {lab=#net7}
N 1260 -970 1540 -970 {lab=#net16}
N 2590 -550 2590 -510 {lab=#net17}
N 2590 -460 2590 -440 {lab=#net18}
N 2590 -380 2590 -340 {lab=#net19}
N 2530 -580 2570 -580 {lab=GND}
N 2530 -580 2530 -320 {lab=GND}
N 2530 -320 2570 -320 {lab=GND}
N 2530 -410 2570 -410 {lab=GND}
N 2530 -490 2570 -490 {lab=GND}
N 2590 -290 2590 -280 {lab=#net20}
N 2590 -280 2850 -280 {lab=#net20}
N 3020 -440 3020 -390 {lab=QP3}
N 2590 -710 2590 -610 {lab=vref}
N 1860 -1050 1980 -1050 {lab=#net7}
N 2350 -1410 2350 -1340 {lab=VDD}
N 2110 -1410 2350 -1410 {lab=VDD}
N 2350 -1280 2350 -1080 {lab=vref}
N 2350 -1000 2350 -900 {lab=QP3}
N 2350 -840 2350 -730 {lab=GND}
N 2310 -870 2310 -770 {lab=GND}
N 2310 -770 2350 -770 {lab=GND}
N 1950 -1050 1950 -1030 {lab=#net7}
N 2070 -1310 2310 -1310 {lab=#net7}
N 1260 -1410 1260 -1380 {lab=VDD}
N 1260 -1320 1260 -1270 {lab=#net21}
N 2110 -1410 2110 -1400 {lab=VDD}
N 2610 -990 2740 -990 {lab=ra1}
N 2610 -930 2740 -930 {lab=#net22}
N 2630 -960 2760 -960 {lab=GND}
N 2850 -290 2850 -280 {lab=#net20}
N 2570 -320 2830 -320 {lab=GND}
N 2850 -440 3020 -440 {lab=QP3}
N 2690 -900 2830 -900 {lab=GND}
N 2570 -410 2830 -410 {lab=GND}
N 2850 -380 2850 -350 {lab=#net23}
C {sky130_fd_pr/pfet3_01v8_lvt.sym} 1620 -1240 0 0 {name=M1
W=5
L=2
body=VDD
nf=1
mult=2
ad="expr('int((@nf + 1)/2) * @W / @nf * 0.29')"
pd="expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')"
as="expr('int((@nf + 2)/2) * @W / @nf * 0.29')"
ps="expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')"
nrd="expr('0.29 / @W ')" nrs="expr('0.29 / @W ')"
sa=0 sb=0 sd=0
model=pfet_01v8_lvt
spiceprefix=X
}
C {sky130_fd_pr/pfet3_01v8_lvt.sym} 1840 -1130 0 0 {name=M3
W=5
L=2
body=VDD
nf=1
mult=1
ad="expr('int((@nf + 1)/2) * @W / @nf * 0.29')"
pd="expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')"
as="expr('int((@nf + 2)/2) * @W / @nf * 0.29')"
ps="expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')"
nrd="expr('0.29 / @W ')" nrs="expr('0.29 / @W ')"
sa=0 sb=0 sd=0
model=pfet_01v8_lvt
spiceprefix=X
}
C {iopin.sym} 1640 -1470 0 0 {name=p1 lab=VDD}
C {sky130_fd_pr/pfet3_01v8_lvt.sym} 1520 -1130 0 1 {name=M4
W=5
L=2
body=VDD
nf=1
mult=1
ad="expr('int((@nf + 1)/2) * @W / @nf * 0.29')"
pd="expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')"
as="expr('int((@nf + 2)/2) * @W / @nf * 0.29')"
ps="expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')"
nrd="expr('0.29 / @W ')" nrs="expr('0.29 / @W ')"
sa=0 sb=0 sd=0
model=pfet_01v8_lvt
spiceprefix=X
}
C {sky130_fd_pr/nfet3_01v8.sym} 1560 -860 0 0 {name=M5
W=1
L=2
body=GND
nf=1
mult=2
ad="expr('int((@nf + 1)/2) * @W / @nf * 0.29')"
pd="expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')"
as="expr('int((@nf + 2)/2) * @W / @nf * 0.29')"
ps="expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')"
nrd="expr('0.29 / @W ')" nrs="expr('0.29 / @W ')"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/nfet3_01v8.sym} 1750 -860 0 1 {name=M6
W=1
L=2
body=GND
nf=1
mult=2
ad="expr('int((@nf + 1)/2) * @W / @nf * 0.29')"
pd="expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')"
as="expr('int((@nf + 2)/2) * @W / @nf * 0.29')"
ps="expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')"
nrd="expr('0.29 / @W ')" nrs="expr('0.29 / @W ')"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/pfet3_01v8_lvt.sym} 1560 -970 0 0 {name=M7
W=5
L=2
body=VDD
nf=1
mult=5
ad="expr('int((@nf + 1)/2) * @W / @nf * 0.29')"
pd="expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')"
as="expr('int((@nf + 2)/2) * @W / @nf * 0.29')"
ps="expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')"
nrd="expr('0.29 / @W ')" nrs="expr('0.29 / @W ')"
sa=0 sb=0 sd=0
model=pfet_01v8_lvt
spiceprefix=X
}
C {sky130_fd_pr/pfet3_01v8_lvt.sym} 1750 -970 0 1 {name=M8
W=5
L=2
body=VDD
nf=1
mult=5
ad="expr('int((@nf + 1)/2) * @W / @nf * 0.29')"
pd="expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')"
as="expr('int((@nf + 2)/2) * @W / @nf * 0.29')"
ps="expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')"
nrd="expr('0.29 / @W ')" nrs="expr('0.29 / @W ')"
sa=0 sb=0 sd=0
model=pfet_01v8_lvt
spiceprefix=X
}
C {lab_wire.sym} 1800 -970 0 0 {name=p3 sig_type=std_logic lab=ra1}
C {sky130_fd_pr/nfet3_01v8.sym} 1840 -860 0 0 {name=M9
W=1
L=2
body=GND
nf=1
mult=2
ad="expr('int((@nf + 1)/2) * @W / @nf * 0.29')"
pd="expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')"
as="expr('int((@nf + 2)/2) * @W / @nf * 0.29')"
ps="expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')"
nrd="expr('0.29 / @W ')" nrs="expr('0.29 / @W ')"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {sky130_fd_pr/nfet3_01v8.sym} 1510 -860 0 1 {name=M10
W=1
L=2
body=GND
nf=1
mult=2
ad="expr('int((@nf + 1)/2) * @W / @nf * 0.29')"
pd="expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')"
as="expr('int((@nf + 2)/2) * @W / @nf * 0.29')"
ps="expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')"
nrd="expr('0.29 / @W ')" nrs="expr('0.29 / @W ')"
sa=0 sb=0 sd=0
model=nfet_01v8
spiceprefix=X
}
C {iopin.sym} 1640 -710 0 0 {name=p4 lab=GND}
C {sky130_fd_pr/cap_mim_m3_1.sym} 1950 -1000 0 0 {name=C1 model=cap_mim_m3_1 W=10 L=10 MF=10 spiceprefix=X}
C {lab_wire.sym} 1950 -920 0 0 {name=p7 sig_type=std_logic lab=GND}
C {vsource.sym} 1500 -1350 0 0 {name=V1 value=0 savecurrent=false}
C {vsource.sym} 1640 -1350 0 0 {name=V2 value=0 savecurrent=false}
C {vsource.sym} 1860 -1350 0 0 {name=V3 value=0 savecurrent=false}
C {vsource.sym} 1860 -780 0 0 {name=V4 value=0 savecurrent=false}
C {vsource.sym} 1730 -780 0 0 {name=V5 value=0 savecurrent=false}
C {vsource.sym} 1580 -780 0 0 {name=V6 value=0 savecurrent=false}
C {vsource.sym} 1490 -780 0 0 {name=V7 value=0 savecurrent=false}
C {lab_wire.sym} 1040 -750 0 0 {name=p13 sig_type=std_logic lab=GND}
C {sky130_fd_pr/pfet3_01v8_lvt.sym} 1060 -1350 0 1 {name=M11
W=5
L=1
body=VDD
nf=1
mult=1
ad="expr('int((@nf + 1)/2) * @W / @nf * 0.29')"
pd="expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')"
as="expr('int((@nf + 2)/2) * @W / @nf * 0.29')"
ps="expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')"
nrd="expr('0.29 / @W ')" nrs="expr('0.29 / @W ')"
sa=0 sb=0 sd=0
model=pfet_01v8_lvt
spiceprefix=X
}
C {sky130_fd_pr/pfet3_01v8_lvt.sym} 1060 -1280 0 1 {name=M12
W=5
L=1
body=VDD
nf=1
mult=1
ad="expr('int((@nf + 1)/2) * @W / @nf * 0.29')"
pd="expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')"
as="expr('int((@nf + 2)/2) * @W / @nf * 0.29')"
ps="expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')"
nrd="expr('0.29 / @W ')" nrs="expr('0.29 / @W ')"
sa=0 sb=0 sd=0
model=pfet_01v8_lvt
spiceprefix=X
}
C {sky130_fd_pr/pfet3_01v8_lvt.sym} 1120 -1190 0 0 {name=M13
W=5
L=1
body=VDD
nf=1
mult=2
ad="expr('int((@nf + 1)/2) * @W / @nf * 0.29')"
pd="expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')"
as="expr('int((@nf + 2)/2) * @W / @nf * 0.29')"
ps="expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')"
nrd="expr('0.29 / @W ')" nrs="expr('0.29 / @W ')"
sa=0 sb=0 sd=0
model=pfet_01v8_lvt
spiceprefix=X
}
C {sky130_fd_pr/nfet3_01v8_lvt.sym} 1060 -870 0 1 {name=MN3
W=1
L=7
body=GND
nf=1
mult=1
ad="expr('int((@nf + 1)/2) * @W / @nf * 0.29')"
pd="expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')"
as="expr('int((@nf + 2)/2) * @W / @nf * 0.29')"
ps="expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')"
nrd="expr('0.29 / @W ')" nrs="expr('0.29 / @W ')"
sa=0 sb=0 sd=0
model=nfet_01v8_lvt
spiceprefix=X
}
C {sky130_fd_pr/nfet3_01v8_lvt.sym} 1060 -1020 0 1 {name=MN4
W=1
L=7
body=GND
nf=1
mult=1
ad="expr('int((@nf + 1)/2) * @W / @nf * 0.29')"
pd="expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')"
as="expr('int((@nf + 2)/2) * @W / @nf * 0.29')"
ps="expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')"
nrd="expr('0.29 / @W ')" nrs="expr('0.29 / @W ')"
sa=0 sb=0 sd=0
model=nfet_01v8_lvt
spiceprefix=X
}
C {sky130_fd_pr/pnp_05v5.sym} 1240 -830 0 0 {name=Q1
model=pnp_05v5_W3p40L3p40
m=1
spiceprefix=X
}
C {sky130_fd_pr/pfet3_01v8_lvt.sym} 1280 -1240 0 1 {name=M14
W=5
L=2
body=VDD
nf=1
mult=2
ad="expr('int((@nf + 1)/2) * @W / @nf * 0.29')"
pd="expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')"
as="expr('int((@nf + 2)/2) * @W / @nf * 0.29')"
ps="expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')"
nrd="expr('0.29 / @W ')" nrs="expr('0.29 / @W ')"
sa=0 sb=0 sd=0
model=pfet_01v8_lvt
spiceprefix=X
}
C {lab_wire.sym} 1260 -750 0 0 {name=p10 sig_type=std_logic lab=GND}
C {lab_wire.sym} 1140 -750 0 0 {name=p11 sig_type=std_logic lab=GND}
C {sky130_fd_pr/pfet3_01v8_lvt.sym} 2090 -1310 0 0 {name=M15
W=5
L=2
body=VDD
nf=1
mult=2
ad="expr('int((@nf + 1)/2) * @W / @nf * 0.29')"
pd="expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')"
as="expr('int((@nf + 2)/2) * @W / @nf * 0.29')"
ps="expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')"
nrd="expr('0.29 / @W ')" nrs="expr('0.29 / @W ')"
sa=0 sb=0 sd=0
model=pfet_01v8_lvt
spiceprefix=X
}
C {sky130_fd_pr/res_high_po_1p41.sym} 2610 -960 2 0 {name=R3
L=7.58
model=res_high_po_1p41
spiceprefix=X
mult=1}
C {iopin.sym} 2830 -870 2 1 {name=p18 lab=GND
}
C {lab_wire.sym} 2670 -990 0 0 {name=p12 sig_type=std_logic lab=ra1}
C {lab_wire.sym} 2670 -850 0 0 {name=p14 sig_type=std_logic lab=QP2}
C {sky130_fd_pr/pnp_05v5.sym} 2090 -850 0 0 {name=Q2
model=pnp_05v5_W3p40L3p40
m=8
spiceprefix=X
}
C {lab_wire.sym} 2110 -1080 0 0 {name=p15 sig_type=std_logic lab=ra1}
C {lab_wire.sym} 2110 -1000 0 0 {name=p16 sig_type=std_logic lab=QP2}
C {lab_wire.sym} 2110 -730 0 0 {name=p17 sig_type=std_logic lab=GND}
C {sky130_fd_pr/res_high_po_1p41.sym} 2590 -580 0 0 {name=R5
L=7.58
model=res_high_po_1p41
spiceprefix=X
mult=1}
C {sky130_fd_pr/res_high_po_1p41.sym} 2590 -490 0 0 {name=R6
L=7.58
model=res_high_po_1p41
spiceprefix=X
mult=1}
C {sky130_fd_pr/res_high_po_1p41.sym} 2590 -410 0 0 {name=R7
L=7.58
model=res_high_po_1p41
spiceprefix=X
mult=1}
C {sky130_fd_pr/res_high_po_1p41.sym} 2590 -320 0 0 {name=R8
L=7.58
model=res_high_po_1p41
spiceprefix=X
mult=1}
C {lab_wire.sym} 2530 -460 0 0 {name=p19 sig_type=std_logic lab=GND}
C {lab_wire.sym} 2590 -710 0 0 {name=p22 sig_type=std_logic lab=vref}
C {lab_wire.sym} 3020 -390 0 0 {name=p23 sig_type=std_logic lab=QP3}
C {sky130_fd_pr/pfet3_01v8_lvt.sym} 2330 -1310 0 0 {name=M2
W=5
L=2
body=VDD
nf=1
mult=4
ad="expr('int((@nf + 1)/2) * @W / @nf * 0.29')"
pd="expr('2*int((@nf + 1)/2) * (@W / @nf + 0.29)')"
as="expr('int((@nf + 2)/2) * @W / @nf * 0.29')"
ps="expr('2*int((@nf + 2)/2) * (@W / @nf + 0.29)')"
nrd="expr('0.29 / @W ')" nrs="expr('0.29 / @W ')"
sa=0 sb=0 sd=0
model=pfet_01v8_lvt
spiceprefix=X
}
C {lab_wire.sym} 2350 -1080 0 0 {name=p2 sig_type=std_logic lab=vref}
C {lab_wire.sym} 2350 -1000 0 0 {name=p6 sig_type=std_logic lab=QP3}
C {sky130_fd_pr/pnp_05v5.sym} 2330 -870 0 0 {name=Q5
model=pnp_05v5_W3p40L3p40
m=1
spiceprefix=X
}
C {lab_wire.sym} 2350 -730 0 0 {name=p24 sig_type=std_logic lab=GND}
C {vsource.sym} 1260 -1350 0 0 {name=V8 value=0 savecurrent=false}
C {vsource.sym} 2110 -1370 0 0 {name=V9 value=0 savecurrent=false}
C {code_shown.sym} 2970 -1600 0 0 {name=s1 only_toplevel=false value=".title BGR_opamp
.lib /home/somya/share/pdk/sky130A/libs.tech/ngspice/sky130.lib.spice tt
.temp 27
.global VDD GND
.dc vin 0 1.8 0.01
.save all

vsup    VDD     GND     dc      2
.dc temp -40 125 5

*vsup   vdd     gnd     pulse   0       2       10n     1u      1u      1m      100u
*.tran  5n      10u

.control
run
plot v(vref)
*PLOT v(M7gate) v(ra1) v(QP2)
*plot vid1#branch vid2#branch vid3#branch vid4#branch vid5#branch
*plot i(V1) i(V2) i(V3) i(V8) i(V9)
.endc
.end
"}
C {sky130_fd_pr/res_high_po_1p41.sym} 2740 -960 2 0 {name=R1
L=7.58
model=res_high_po_1p41
spiceprefix=X
mult=1}
C {sky130_fd_pr/res_high_po_1p41.sym} 2850 -320 0 0 {name=R2
L=7.58
model=res_high_po_1p41
spiceprefix=X
mult=1}
C {sky130_fd_pr/res_high_po_1p41.sym} 2670 -900 2 0 {name=R4
L=7.58
model=res_high_po_1p41
spiceprefix=X
mult=1}
C {sky130_fd_pr/res_high_po_1p41.sym} 2850 -410 0 0 {name=R9
L=7.58
model=res_high_po_1p41
spiceprefix=X
mult=1}
